generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:rootpassword@localhost:3306/gameshop_db"
}

model Game {
  id        Int    @id @default(autoincrement())
  title     String
  price     Float
  platform  String
  code      String @unique
  imageUrl  String? // เพิ่มช่องนี้เพื่อเก็บลิงก์รูปภาพ
  isSold    Boolean @default(false)
}
model User {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String
  role     String @default("USER") // ADMIN หรือ USER
  points   Int    @default(0)
  topupRequests TopupRequest[]
}

model TopupRequest {
  id        Int      @id @default(autoincrement())
  userId    Int
  user      User     @relation(fields: [userId], references: [id])
  amount    Int
  status    String   @default("PENDING") // PENDING, APPROVED, REJECTED
  createdAt DateTime @default(now())
}